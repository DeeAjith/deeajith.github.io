<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Webgl Bogie!</title>
    <style>
        *{
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        html{
            height: 100%;
            width:100%;
        }
        body{
            display: grid;
            display: -moz-grid;
            display: -ms-grid;
        }
        canvas{
            background: red;
            width:75%;
            height:100vh;
            float: right;
        }
        .cont{
            visibility: hidden;
        }
        .cont1{
            visibility: hidden;
        }
    </style>
</head>
<body>

    <!-- <div class="cont">
        The Information about Cube !
    </div> -->
    <div class="canv">
    <canvas id="myCanvas"></canvas>
    </div>
    <script src="js/threex.domevents.js"></script>
    <script src="js/three.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/GLTFLoader.js"></script>
    <script src="js/Raycaster.js"></script>
    
    <script>
        
     
       
        
    var renderer,
    	scene,
    	camera,
    	myCanvas = document.getElementById('myCanvas');
    //RENDERER
    renderer = new THREE.WebGLRenderer({
      canvas: myCanvas, 
      antialias: true
    });
    renderer.setClearColor(0x000000);
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.setSize(window.innerWidth, window.innerHeight);
    //CAMERA
    camera = new THREE.PerspectiveCamera(35, window.innerWidth / window.innerHeight, 0.1, 1000 );
    var controls = new THREE.OrbitControls( camera );
//controls.update() must be called after any manual changes to the camera's transform
camera.position.set( 1.7, 1.2, 1.5 );
controls.update();
    //SCENE
    scene = new THREE.Scene();
    
    //LIGHTS
    {
    var skyColor = 0xB1E1FF;  // light blue
    var groundColor = 0xB97A20;  // brownish orange
    var intensity = 1;
    var light = new THREE.HemisphereLight(skyColor, groundColor, intensity);
    scene.add(light);
  }
  {
    var color = 0xFFFFFF;
    var intensity = 1;
    var light = new THREE.DirectionalLight(color, intensity);
    light.position.set(5, 10, 2);
    scene.add(light);
    scene.add(light.target);
  }
  
    var loader = new THREE.GLTFLoader();
    loader.load('/asse.gltf', handle_load);
    var mesh;
    function handle_load(gltf) {
        console.log(gltf);
        mesh = gltf.scene;
        console.log(mesh.children[0]);
        mesh.children[0].material = new THREE.MeshBasicMaterial();
        scene.add( mesh );
        mesh.position.z =0;
        // mesh.scale.set(20,20,20);
      
    }
    var domEvents = new THREEx.DomEvents(camera, renderer.domElement)
    domEvents.addEventListener(mesh, 'click', function(event) {
  console.log('you clicked on mesh', mesh)
}, false) 
    //RENDER LOOP
    render();
    function animate() {
requestAnimationFrame( animate );
// required if controls.enableDamping or controls.autoRotate are set to true
controls.update();
renderer.render( scene, camera );
}
    // var delta = 0;
    // var prevTime = Date.now();
    function render() {
        // delta += 0.1;
        // if (mesh) {
        
        //     mesh.rotation.y += 0.01;
        //     //animation mesh
        //     mesh.morphTargetInfluences[ 0 ] = Math.sin(delta) * 20.0;
        // 
    // }
    	renderer.render(scene, camera);
    	requestAnimationFrame(render);
    }
    </script>
    
</body>
</html>